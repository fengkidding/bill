<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bill.dao.db.ext.ProductBillExtMapper">

  <select id="listProductBill" resultType="com.bill.model.entity.auto.ProductBill">
    SELECT product_order_id, assets_remark, rights_remark, create_time ,product_type
    FROM product_bill
    WHERE bill_user = #{userName} AND create_time BETWEEN #{startTime} AND #{endTime}
    <if test="productOrderId != null">
      AND product_order_id = #{productOrderId}
    </if>
    ORDER BY create_time DESC
  </select>

  <select id="listProductBillAndDate" resultType="com.bill.model.entity.auto.ProductBill">
    SELECT product_order_id, assets_money, rights_money ,product_type
    FROM product_bill
    WHERE bill_user = #{userName}
    AND create_time BETWEEN #{startTime} AND #{endTime}
    <if test="productOrderId != null">
      AND product_order_id = #{productOrderId}
    </if>
  </select>
</mapper>